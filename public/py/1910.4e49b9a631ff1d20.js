"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1910],{1910:(J,p,r)=>{r.r(p),r.d(p,{FolderPageModule:()=>y});var c=r(6895),_=r(4719),u=r(7479),g=r(5012),d=r(5861),t=r(6738),m=r(1228),h=r(6141);function f(n,s){1&n&&(t.TgZ(0,"ion-item"),t._UZ(1,"ion-spinner"),t.qZA())}function A(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-item",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.goto(a))}),t.TgZ(1,"ion-badge",10),t._uU(2),t.qZA(),t.TgZ(3,"ion-grid")(4,"ion-row")(5,"ion-col",11),t._uU(6),t.qZA(),t.TgZ(7,"ion-col",12),t._uU(8),t.qZA(),t.TgZ(9,"ion-col",13),t._uU(10),t.ALo(11,"number"),t.qZA()()(),t.TgZ(12,"ion-badge",14),t._uU(13),t.qZA()()}if(2&n){const o=s.$implicit;t.xp6(1),t.Q6J("color",0==o.type?"primary":"secondary"),t.xp6(1),t.Oqu(o.type_text),t.xp6(4),t.Oqu(o.id),t.xp6(2),t.Oqu(0==o.type?"\u0645\u0646: "+o.from_name:"\u0625\u0644\u0649: "+o.to_name),t.xp6(2),t.Oqu(t.xi3(11,7,o.amount,"1.0-0")),t.xp6(2),t.Q6J("color",o.scolor),t.xp6(1),t.Oqu(o.stext)}}function Z(n,s){if(1&n&&(t.TgZ(0,"ion-col",20)(1,"ion-label"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.AsE("\u062a\u0645 \u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0645\u0646 \u0642\u0628\u0644 ",o.p.to_name," \u0628\u062a\u0627\u0631\u064a\u062e ",o.p.to_status_update_at," ")}}function x(n,s){if(1&n&&(t.TgZ(0,"ion-col",20)(1,"ion-label"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.AsE("\u062a\u0645 \u0627\u0644\u0627\u0644\u063a\u0627\u0621 \u0645\u0646 \u0642\u0628\u0644 ",o.p.to_name," \u0628\u062a\u0627\u0631\u064a\u062e ",o.p.to_status_update_at," ")}}function T(n,s){if(1&n&&(t.TgZ(0,"ion-col",20)(1,"ion-label"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.hij("\u062a\u0645 \u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0627\u062f\u0627\u0631\u0629 \u0628\u062a\u0627\u0631\u064a\u062e ",o.p.status_update_at," ")}}function F(n,s){if(1&n&&(t.TgZ(0,"ion-col",20)(1,"ion-label"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.hij("\u062a\u0645 \u0627\u0644\u0627\u0644\u063a\u0627\u0621 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0627\u062f\u0627\u0631\u0629 \u0628\u062a\u0627\u0631\u064a\u062e ",o.p.status_update_at," ")}}function b(n,s){1&n&&t._UZ(0,"ion-progress-bar",25)}function P(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",12)(3,"ion-button",22),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.update(i.p))}),t._uU(4,"\u062a\u0623\u0643\u064a\u062f"),t.qZA()(),t.TgZ(5,"ion-col",12)(6,"ion-button",23),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.update(i.p,!0))}),t._uU(7,"\u0625\u0644\u063a\u0627\u0621"),t.qZA()(),t.YNc(8,b,1,0,"ion-progress-bar",24),t.qZA()()}if(2&n){const o=t.oxw(2);t.xp6(3),t.Q6J("disabled",o.loading),t.xp6(3),t.Q6J("disabled",o.loading),t.xp6(2),t.Q6J("ngIf",o.loading)}}function q(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",15)(5,"ion-button",9),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.setOpen(!1))}),t._uU(6,"\u0639\u0648\u062f\u0629"),t.qZA()()()(),t.TgZ(7,"ion-content",16)(8,"ion-card",17)(9,"ion-grid")(10,"ion-row")(11,"ion-col"),t._uU(12," \u0631\u0642\u0645 \u0627\u0644\u062f\u0641\u0639\u0629: "),t.qZA(),t.TgZ(13,"ion-col")(14,"ion-label"),t._uU(15),t.qZA()()(),t.TgZ(16,"ion-row")(17,"ion-col"),t._uU(18," \u0627\u0644\u062a\u0627\u0631\u064a\u062e: "),t.qZA(),t.TgZ(19,"ion-col")(20,"ion-label"),t._uU(21),t.qZA()()(),t.TgZ(22,"ion-row")(23,"ion-col"),t._uU(24," \u0627\u0644\u0645\u0631\u0633\u0644: "),t.qZA(),t.TgZ(25,"ion-col")(26,"ion-label"),t._uU(27),t.qZA()()(),t.TgZ(28,"ion-row")(29,"ion-col"),t._uU(30," \u0627\u0644\u0645\u0633\u062a\u0644\u0645: "),t.qZA(),t.TgZ(31,"ion-col")(32,"ion-label"),t._uU(33),t.qZA()()(),t.TgZ(34,"ion-row")(35,"ion-col"),t._uU(36," \u0627\u0644\u0642\u064a\u0645\u0629: "),t.qZA(),t.TgZ(37,"ion-col")(38,"ion-label"),t._uU(39),t.qZA()()(),t.TgZ(40,"ion-row")(41,"ion-col"),t._uU(42," \u0627\u0644\u0646\u0648\u0639: "),t.qZA(),t.TgZ(43,"ion-col")(44,"ion-label"),t._uU(45),t.qZA()()(),t.TgZ(46,"ion-row")(47,"ion-col"),t._uU(48," \u0645\u0644\u0627\u062d\u0638\u0627\u062a: "),t.qZA(),t.TgZ(49,"ion-col")(50,"ion-label"),t._uU(51),t.qZA()()(),t.TgZ(52,"ion-card")(53,"ion-row",18)(54,"ion-col",12),t._uU(55," \u0627\u0644\u062d\u0627\u0644\u0629: "),t.qZA(),t.TgZ(56,"ion-col",12)(57,"ion-label"),t._uU(58),t.qZA()()()(),t.TgZ(59,"ion-row")(60,"ion-col",13),t._uU(61," \u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u0629: "),t.qZA(),t._UZ(62,"ion-col",19),t.TgZ(63,"ion-col",20)(64,"ion-label"),t._uU(65),t.qZA()(),t.YNc(66,Z,3,2,"ion-col",21),t.YNc(67,x,3,2,"ion-col",21),t.YNc(68,T,3,1,"ion-col",21),t.YNc(69,F,3,1,"ion-col",21),t.qZA()()(),t._UZ(70,"br"),t.YNc(71,P,9,3,"ion-grid",4),t.qZA()}if(2&n){const o=t.oxw();t.xp6(3),t.Oqu(o.ptitle),t.xp6(5),t.Q6J("color",o.p.color),t.xp6(7),t.hij(" ",o.p.id,""),t.xp6(6),t.hij(" ",o.p.date,""),t.xp6(6),t.hij(" ",o.p.from_name,""),t.xp6(6),t.hij(" ",o.p.to_name,""),t.xp6(6),t.hij(" ",o.p.amount,""),t.xp6(6),t.hij(" ","s1"==o.p.currency?"\u0628\u0644\u0627\u0633\u062a\u064a\u0643":"\u062e\u064a\u0648\u0637"," "),t.xp6(6),t.hij(" ",o.p.notes," "),t.xp6(7),t.hij(" ",o.p.stext," "),t.xp6(7),t.AsE("\u062a\u0645 \u0627\u0644\u0627\u0646\u0634\u0627\u0621 \u0645\u0646 \u0642\u0628\u0644 ",o.p.from_name," \u0628\u062a\u0627\u0631\u064a\u062e ",o.p.date," "),t.xp6(1),t.Q6J("ngIf",1==o.p.status),t.xp6(1),t.Q6J("ngIf",2==o.p.status),t.xp6(1),t.Q6J("ngIf",3==o.p.status),t.xp6(1),t.Q6J("ngIf",4==o.p.status),t.xp6(2),t.Q6J("ngIf",0==o.p.type&&0==o.p.status||o.admin&&1==o.p.status)}}const U=[{path:"",component:(()=>{class n{constructor(o,e,i){this.auth=o,this.api=e,this.toastController=i,this.loading=!1,this.admin=!1,this.payments=[],this.page=1,this.isModalOpen=!1,this.ptitle="",this.search="",2==this.auth.user.role&&(this.admin=!0)}ngOnInit(){this.get_recs(!1,"",this.admin)}get_recs(o,e,i=!1){this.loading=!0,this.api.get_recs(this.auth.user.id,this.page,i,this.search,!0).subscribe(l=>{this.loading=!1,this.payments=this.payments.concat(l),o&&e.target.complete(),this.page++,console.log(this.payments)},l=>{this.loading=!1,console.log(l)})}doInfinite(o){this.get_recs(!0,o,this.admin)}goto(o){this.ptitle="\u062f\u0641\u0639\u0629 \u0631\u0642\u0645: "+o.id,this.p=o,this.isModalOpen=!0,console.log(this.p)}setOpen(o){this.isModalOpen=o}update(o,e=!1){this.loading=!0,this.api.update_status(o.id,e).subscribe(i=>{console.log(i),this.loading=!1,this.updatePy(o.id,i[0]),this.setOpen(!1),this.showMsg("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062d\u0627\u0644\u0629 \u0628\u0646\u062c\u0627\u062d...")},i=>{this.loading=!1,console.log(i)})}showMsg(o,e=5){var i=this;return(0,d.Z)(function*(){(yield i.toastController.create({message:o,duration:1e3*e,color:"success"})).present()})()}updatePy(o,e){this.payments.find((a,l)=>{if(a.id===o)return this.payments[l].status=e.status,this.payments[l].to_status_update_at=e.to_status_update_at,this.payments[l].status_update_at=e.status_update_at,this.payments[l].stext=e.stext,this.payments[l].scolor=e.scolor,!0})}modalDismiss(o){this.isModalOpen=!1}doSearch(o){this.page=1,this.payments=[],console.log(o.target.value),this.get_recs(!1,"",this.admin)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(m.e),t.Y36(h.N),t.Y36(u.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-folder"]],decls:15,vars:6,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[3,"ngModel","ionChange","ngModelChange"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","\u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0632\u064a\u062f..."],[3,"isOpen","ionModalDidDismiss"],[3,"click"],["slot","start",2,"margin-inline-end","10px",3,"color"],["size","2"],["size","6"],["size","4"],["slot","end",2,"margin-inline-start","10px",3,"color"],["slot","end"],[1,"ion-padding"],[3,"color"],[2,"font-weight","bold"],["size","8"],["size","12"],["size","12",4,"ngIf"],["shape","round","expand","full",3,"disabled","click"],["color","danger","shape","round","expand","full",3,"disabled","click"],["type","indeterminate",4,"ngIf"],["type","indeterminate"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"\u0627\u0644\u062a\u0646\u0628\u064a\u0647\u0627\u062a"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-list")(8,"ion-searchbar",3),t.NdJ("ionChange",function(a){return e.doSearch(a)})("ngModelChange",function(a){return e.search=a}),t.qZA(),t.YNc(9,f,2,0,"ion-item",4),t.YNc(10,A,14,10,"ion-item",5),t.qZA(),t.TgZ(11,"ion-infinite-scroll",6),t.NdJ("ionInfinite",function(a){return e.doInfinite(a)}),t._UZ(12,"ion-infinite-scroll-content",7),t.qZA(),t.TgZ(13,"ion-modal",8),t.NdJ("ionModalDidDismiss",function(a){return e.modalDismiss(a)}),t.YNc(14,q,72,17,"ng-template"),t.qZA()()),2&o&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngModel",e.search),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngForOf",e.payments),t.xp6(3),t.Q6J("isOpen",e.isModalOpen))},dependencies:[c.sg,c.O5,_.JJ,_.On,u.yp,u.YG,u.Sm,u.PM,u.wI,u.W2,u.jY,u.Gu,u.ju,u.MB,u.Ie,u.Q$,u.q_,u.fG,u.ki,u.X7,u.Nd,u.VI,u.PQ,u.sr,u.wd,u.j9,c.JJ],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(U),g.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,_.u5,u.Pc,M]}),n})()}}]);