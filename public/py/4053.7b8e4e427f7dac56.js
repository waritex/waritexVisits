"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4053],{4053:(q,_,s)=>{s.r(_),s.d(_,{AddPageModule:()=>J});var g=s(6895),r=s(4719),u=s(7479),c=s(5012),p=s(5861),e=s(6738),A=s(1228),h=s(6141);function f(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",23),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function M(n,a){1&n&&e._UZ(0,"ion-spinner")}function Z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-datetime",24,25),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.add_data.date=i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("showDefaultButtons",!0)("ngModel",t.add_data.date)}}function v(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," \u0627\u0644\u0642\u064a\u0645\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 "),e.qZA())}function T(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," \u0627\u0644\u0642\u064a\u0645\u0629 \u0645\u0648\u062c\u0628\u0629 "),e.qZA())}function y(n,a){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,v,2,0,"div",10),e.YNc(2,T,2,0,"div",10),e.qZA()),2&n){e.oxw();const t=e.MAs(31);e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}const P=[{path:"",component:(()=>{class n{constructor(t,o,i,d){this.auth=t,this.api=o,this.router=i,this.toastController=d,this.loading=!1,this.add_data={to_id:null,date:"",amount:"",currency:"",notes:""}}ngOnInit(){this.get_all_users()}get_all_users(){this.loading=!0,this.api.get_all_users(this.auth.user.id).subscribe(o=>{this.loading=!1,this.users=o},o=>{this.loading=!1,console.log(o)})}add(t){const o=this.auth.user.id;let i=new Date(this.add_data.date);const d=new Date;i.setHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),this.add_data.date=i.toLocaleString();let l=Object.assign({},this.add_data,{from_id:o});console.log(l),this.api.add_rec(l).subscribe(m=>{this.showMsg("\u062a\u0645\u062a \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d...",6),this.clearForm(t),this.router.navigate(["main"])},m=>{console.log(m)})}clearForm(t){t.resetForm(),this.add_data={to_id:null,date:"",amount:"",currency:"",notes:""}}showMsg(t,o=5){var i=this;return(0,p.Z)(function*(){(yield i.toastController.create({message:t,duration:1e3*o,color:"success"})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.e),e.Y36(h.N),e.Y36(c.F0),e.Y36(u.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add"]],decls:51,vars:13,consts:[[3,"translucent"],["slot","start"],[3,"ngSubmit"],["addform","ngForm"],["color","primary","justify-content-center",""],["align-self-center","","size-md","6","size-lg","5","size-xs","12"],["padding",""],["name","to_id","required","","placeholder","\u0627\u0644\u0645\u0633\u062a\u0644\u0645:",3,"ngModel","ngModelChange"],["from_id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","date","name","date","ngModel","","readonly","true","required","",1,"ion-text-end",3,"value"],["trigger","date","size","cover","dir","ltr"],["id","amount","name","amount","type","number","min","0","step","0.5","inputmode","decimal","pattern","[0-9]+","placeholder","\u0627\u0644\u0642\u064a\u0645\u0629","required","",3,"ngModel","ngModelChange"],["amount","ngModel"],["class","alert",4,"ngIf"],["id","currency","name","currency","required","","placeholder","\u0627\u0644\u0646\u0648\u0639:",3,"ngModel","ngModelChange"],["currency","ngModel"],["value","s1"],["value","s2"],["placeholder","\u0645\u0644\u0627\u062d\u0638\u0627\u062a","id","notes","name","notes",3,"ngModel","ngModelChange"],["notes","ngModel"],["size","large","type","submit","expand","block",3,"disabled"],[3,"value"],["presentation","date","locale","ar-sy","name","date",3,"showDefaultButtons","ngModel","ngModelChange"],["date","ngModel"],[1,"alert"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"\u0625\u0636\u0627\u0641\u0629 \u0627\u0633\u062a\u0644\u0627\u0645"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(8);return e.KtG(o.add(l))}),e.TgZ(9,"ion-grid")(10,"ion-row",4)(11,"ion-col",5)(12,"div",6)(13,"ion-item")(14,"ion-label"),e._uU(15,"\u0627\u0644\u0645\u0633\u062a\u0644\u0645:"),e.qZA(),e.TgZ(16,"ion-select",7,8),e.NdJ("ngModelChange",function(l){return o.add_data.to_id=l}),e.YNc(18,f,2,2,"ion-select-option",9),e.qZA(),e.YNc(19,M,1,0,"ion-spinner",10),e.qZA(),e.TgZ(20,"ion-item")(21,"ion-label"),e._uU(22,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645:"),e.qZA(),e._UZ(23,"ion-input",11),e.ALo(24,"date"),e.TgZ(25,"ion-popover",12),e.YNc(26,Z,2,2,"ng-template"),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label"),e._uU(29,"\u0627\u0644\u0642\u064a\u0645\u0629:"),e.qZA(),e.TgZ(30,"ion-input",13,14),e.NdJ("ngModelChange",function(l){return o.add_data.amount=l}),e.qZA(),e.YNc(32,y,3,2,"div",15),e.qZA(),e.TgZ(33,"ion-item")(34,"ion-label"),e._uU(35,"\u0627\u0644\u0646\u0648\u0639:"),e.qZA(),e.TgZ(36,"ion-select",16,17),e.NdJ("ngModelChange",function(l){return o.add_data.currency=l}),e.TgZ(38,"ion-select-option",18),e._uU(39,"\u0628\u0644\u0627\u0633\u062a\u064a\u0643"),e.qZA(),e.TgZ(40,"ion-select-option",19),e._uU(41,"\u062e\u064a\u0648\u0637"),e.qZA()()(),e.TgZ(42,"ion-item")(43,"ion-label"),e._uU(44,"\u0645\u0644\u0627\u062d\u0638\u0627\u062a:"),e.qZA(),e.TgZ(45,"ion-textarea",20,21),e.NdJ("ngModelChange",function(l){return o.add_data.notes=l}),e.qZA()()(),e._UZ(47,"br"),e.TgZ(48,"div",6)(49,"ion-button",22),e._uU(50,"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"),e.qZA()()()()()()()}if(2&t){const i=e.MAs(8),d=e.MAs(31);e.Q6J("translucent",!0),e.xp6(16),e.Q6J("ngModel",o.add_data.to_id),e.xp6(2),e.Q6J("ngForOf",o.users),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(4),e.s9C("value",e.xi3(24,10,o.add_data.date,"dd/MM/yyyy")),e.xp6(7),e.Q6J("ngModel",o.add_data.amount),e.xp6(2),e.Q6J("ngIf",d.invalid&&(d.dirty||d.touched)),e.xp6(4),e.Q6J("ngModel",o.add_data.currency),e.xp6(9),e.Q6J("ngModel",o.add_data.notes),e.xp6(4),e.Q6J("disabled",i.invalid)}},dependencies:[g.sg,g.O5,r._Y,r.JJ,r.JL,r.Q7,r.c5,r.On,r.F,u.YG,u.Sm,u.wI,u.W2,u.x4,u.jY,u.Gu,u.pK,u.Ie,u.Q$,u.fG,u.d8,u.Nd,u.t9,u.n0,u.PQ,u.g2,u.sr,u.wd,u.as,u.QI,u.j9,g.uU]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(P),c.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,r.u5,u.Pc,C]}),n})()}}]);